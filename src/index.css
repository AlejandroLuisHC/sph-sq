@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: "Roboto", ui-sans-serif, system-ui, -apple-system,
      BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-size: 16px;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
  }

  #root {
    min-height: 100vh;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #1a1a1a;
  }

  ::-webkit-scrollbar-thumb {
    background: #ffd700;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #ffed4e;
  }

  /* Selection styling */
  ::selection {
    background: #ffd700;
    color: #1a1a1a;
  }

  ::-moz-selection {
    background: #ffd700;
    color: #1a1a1a;
  }

  /* Background logo styling for better cross-browser compatibility */
  .bg-logo {
    opacity: 0.03 !important;
    filter: blur(0.5px);
    mix-blend-mode: overlay;
    /* Fallback for older browsers */
    -webkit-opacity: 0.03;
    -moz-opacity: 0.03;
    /* Ensure it's very subtle */
    will-change: auto;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }

  /* Additional fallback for very old mobile browsers */
  @media screen and (max-width: 768px) {
    .bg-logo {
      opacity: 0.02 !important;
      -webkit-opacity: 0.02;
      -moz-opacity: 0.02;
    }
  }

  /* Prevent text overflow and ensure proper wrapping */
  .rule-text {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
  }

  /* Ensure containers don't overflow */
  .rule-container {
    max-width: 100%;
    overflow-x: hidden;
  }

  /* Accessibility improvements */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: 1;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: 0.5rem 1rem;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Focus styles for better accessibility - only apply to elements without custom focus styles */
  *:focus:not(.focus\:outline-none):not([class*="focus:"]) {
    outline: 2px solid #ffd700;
    outline-offset: 2px;
  }

  /* Remove default focus outline for mouse users but keep for keyboard users */
  *:focus:not(:focus-visible):not(.focus\:outline-none):not([class*="focus:"]) {
    outline: none;
  }

  /* Ensure proper focus visibility for keyboard navigation */
  *:focus-visible:not(.focus\:outline-none):not([class*="focus:"]) {
    outline: 2px solid #ffd700;
    outline-offset: 2px;
  }
}
